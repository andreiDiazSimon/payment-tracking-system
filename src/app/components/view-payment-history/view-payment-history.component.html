<div routerLink="../admin">Back</div>
<div class="container mx-auto p-4">
  <!-- Display list of students -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
    <div
      *ngFor="let student of students"
      class="bg-white p-4 rounded-lg shadow-md cursor-pointer"
      (click)="onStudentClick(student.id)"
    >
      <div class="text-lg font-semibold">{{ student.username }}</div>
      <div class="text-sm text-gray-500">ID: {{ student.id }}</div>
    </div>
  </div>

  <!-- Display student's transaction history if a student is selected -->
  <div
    *ngIf="selectedStudentId !== null"
    class="fixed top-1/4 left-1/2 transform -translate-x-1/2 bg-white p-6 rounded-lg shadow-lg w-1/3 z-50"
  >
    <h2 class="text-xl font-semibold mb-4">
      Transaction History for Student ID: {{ selectedStudentId }}
    </h2>
    <div *ngIf="transactions.length > 0; else noTransactions">
      <div
        *ngFor="let transaction of transactions"
        class="bg-white p-4 rounded-lg shadow-md mb-4"
      >
        <div class="text-lg font-semibold">{{ transaction.title }}</div>
        <div class="text-sm text-gray-500">
          Amount: P{{ transaction.amount }}
        </div>
        <div class="text-sm text-gray-500">
          Date: {{ transaction.date | date }}
        </div>
      </div>
    </div>
    <ng-template #noTransactions>
      <p>No transactions found for this student.</p>
    </ng-template>
  </div>
</div>
